<html>
    <head>
        <title>W04: Task 02</title>
        <style>
            span {
                display: inline-block;
                vertical-align: middle;
                width: 10%;
            }
            svg {
                vertical-align: middle;
            }
        </style>
    </head>
    <body>
        <div></div>

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script>
            d3.csv("https://gentarohamada.github.io/InfoVis2021/W04/w04_task2.csv", draw);

            var div = d3.select("body").select("div");
            var height = 20;

            function draw(data){
                div.selectAll("div")
                    .data(data)
                    .enter()
                    .append("div")
                    .attr("class", "content")
                    .append("span")
                div.selectAll(".content")
                    .append("svg")
                    .attr("width", function(d){ return d.length; })
                    .attr("height", height)
                    .append("rect")
                
                div.selectAll("span")
                    .text(function(d){ return d.label; })
                
                div.selectAll("rect")
                    .attr("width", function(d){ return d.length; })
                    .attr("height", height)
                    .style("fill", function(d){ return d.color; })
            }
        </script>
    </body>
</html>